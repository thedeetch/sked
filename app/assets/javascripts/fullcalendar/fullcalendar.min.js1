/*

 FullCalendar ResourceViews version 1.5.3.4
 http://tux.fi/~jarnok/fullcalendar-resourceviews/
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2012 Jarno Kurlin
 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Wed Jan 23 20:47:52 2013 +0200

*/
(function(t,va){function nb(a){t.extend(true,eb,a)}function $b(a,c,f){function d(w){if(Q){z();v();na();I(w)}else g()}function g(){B=c.theme?"ui":"fc";a.addClass("fc");c.isRTL&&a.addClass("fc-rtl");c.theme&&a.addClass("ui-widget");Q=t("<div class='fc-content' style='position:relative'/>").prependTo(a);H=new ac(da,c);(R=H.render())&&a.prepend(R);p(c.defaultView);t(window).resize(oa);k()||n()}function n(){setTimeout(function(){!l.start&&k()&&I()},0)}function i(){t(window).unbind("resize",oa);H.destroy();
Q.remove();a.removeClass("fc fc-rtl ui-widget")}function h(){return o.offsetWidth!==0}function k(){return t("body")[0].offsetWidth!==0}function p(w){if(!l||w!=l.name){E++;Y();var M=l,ia;if(M){(M.beforeHide||Hb)();Xa(Q,Q.height());M.element.hide()}else Xa(Q,1);Q.css("overflow","hidden");if(l=j[w])l.element.show();else l=j[w]=new Fa[w](ia=D=t("<div class='fc-view fc-view-"+w+"' style='position:absolute'/>").appendTo(Q),da);M&&H.deactivateButton(M.name);H.activateButton(w);I();Q.css("overflow","");M&&
Xa(Q,1);ia||(l.afterShow||Hb)();E--}}function I(w){if(h()){E++;Y();A===va&&z();var M=false;if(!l.start||w||K<l.start||K>=l.end){l.render(K,w||0);fa(true);M=true}else if(l.sizeDirty){l.clearEvents();fa();M=true}else if(l.eventsDirty){l.clearEvents();M=true}l.sizeDirty=false;l.eventsDirty=false;ra(M);m=a.outerWidth();H.updateTitle(l.title);w=new Date;w>=l.start&&w<l.end?H.disableButton("today"):H.enableButton("today");E--;l.trigger("viewDisplay",o)}}function V(){v();if(h()){z();fa();Y();l.clearEvents();
l.renderEvents($);l.sizeDirty=false}}function v(){t.each(j,function(w,M){M.sizeDirty=true})}function z(){A=c.contentHeight?c.contentHeight:c.height?c.height-(R?R.height():0)-Qa(Q):Math.round(Q.width()/Math.max(c.aspectRatio,0.5))}function fa(w){E++;l.setHeight(A,w);if(D){D.css("position","relative");D=null}l.setWidth(Q.width(),w);E--}function oa(){if(!E)if(l.start){var w=++y;setTimeout(function(){if(w==y&&!E&&h())if(m!=(m=a.outerWidth())){E++;V();l.trigger("windowResize",o);E--}},200)}else n()}function ra(w){if(!c.lazyFetching||
J(l.visStart,l.visEnd)){wa();c.refetchResources&&sa()}else w&&ea()}function wa(){ba(l.visStart,l.visEnd)}function sa(){ja(false,l);j=[];l.element.remove();l=j[l.name]=new Fa[l.name](D=t("<div class='fc-view fc-view-"+l.name+"' style='position:absolute'/>").appendTo(Q),da);I()}function ka(w){$=w;ea()}function ha(w){ea(w)}function ea(w){na();if(h()){l.clearEvents();l.renderEvents($,w);l.eventsDirty=false}}function na(){t.each(j,function(w,M){M.eventsDirty=true})}function ta(w,M,ia){l.select(w,M,ia===
va?true:ia)}function Y(){l&&l.unselect()}function ga(){I(-1)}function pa(){I(1)}function ua(){ob(K,-1);I()}function X(){ob(K,1);I()}function C(){K=new Date;I()}function u(w,M,ia){if(w instanceof Date)K=q(w);else Ib(K,w,M,ia);I()}function b(w,M,ia){w!==va&&ob(K,w);M!==va&&Ya(K,M);ia!==va&&N(K,ia);I()}function F(){return q(K)}function L(){return l}function T(w,M){if(M===va)return c[w];if(w=="height"||w=="contentHeight"||w=="aspectRatio"){c[w]=M;V()}}function la(w,M){if(c[w])return c[w].apply(M||o,Array.prototype.slice.call(arguments,
2))}var da=this;da.options=c;da.render=d;da.destroy=i;da.refetchEvents=wa;da.reportEvents=ka;da.refetchResources=sa;da.reportEventChange=ha;da.rerenderEvents=ea;da.changeView=p;da.select=ta;da.unselect=Y;da.prev=ga;da.next=pa;da.prevYear=ua;da.nextYear=X;da.today=C;da.gotoDate=u;da.incrementDate=b;da.formatDate=function(w,M){return Ra(w,M,c)};da.formatDates=function(w,M,ia){return pb(w,M,ia,c)};da.getDate=F;da.getView=L;da.option=T;da.trigger=la;bc.call(da,c,f);var J=da.isFetchNeeded,ba=da.fetchEvents;
cc.call(da,c);var ja=da.fetchResources,o=a[0],H,R,Q,B,l,j={},m,A,D,y=0,E=0,K=new Date,$=[],U;Ib(K,c.year,c.month,c.date);c.droppable&&t(document).bind("dragstart",function(w,M){var ia=w.target,qa=t(ia);if(!qa.parents(".fc").length){var ca=c.dropAccept;if(t.isFunction(ca)?ca.call(ia,qa):qa.is(ca)){U=ia;l.dragStart(U,w,M)}}}).bind("dragstop",function(w,M){if(U){l.dragStop(U,w,M);U=null}})}function ac(a,c){function f(){v=c.theme?"ui":"fc";if(c.header)return V=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(g("left")).append(g("center")).append(g("right")))}
function d(){V.remove()}function g(z){var fa=t("<td class='fc-header-"+z+"'/>");(z=c.header[z])&&t.each(z.split(" "),function(oa){oa>0&&fa.append("<span class='fc-header-space'/>");var ra;t.each(this.split(","),function(wa,sa){if(sa=="title"){fa.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ra&&ra.addClass(v+"-corner-right");ra=null}else{var ka;if(a[sa])ka=a[sa];else if(Fa[sa])ka=function(){ea.removeClass(v+"-state-hover");a.changeView(sa)};if(ka){wa=c.theme?qb(c.buttonIcons,sa):
null;var ha=qb(c.buttonText,sa),ea=t("<span class='fc-button fc-button-"+sa+" "+v+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(wa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+wa+"'/></span>":ha)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(ea){ea.click(function(){ea.hasClass(v+"-state-disabled")||ka()}).mousedown(function(){ea.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-down")}).mouseup(function(){ea.removeClass(v+
"-state-down")}).hover(function(){ea.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-hover")},function(){ea.removeClass(v+"-state-hover").removeClass(v+"-state-down")}).appendTo(fa);ra||ea.addClass(v+"-corner-left");ra=ea}}}});ra&&ra.addClass(v+"-corner-right")});return fa}function n(z){V.find("h2").html(z)}function i(z){V.find("span.fc-button-"+z).addClass(v+"-state-active")}function h(z){V.find("span.fc-button-"+z).removeClass(v+"-state-active")}function k(z){V.find("span.fc-button-"+
z).addClass(v+"-state-disabled")}function p(z){V.find("span.fc-button-"+z).removeClass(v+"-state-disabled")}var I=this;I.render=f;I.destroy=d;I.updateTitle=n;I.activateButton=i;I.deactivateButton=h;I.disableButton=k;I.enableButton=p;var V=t([]),v}function bc(a,c){function f(b,F){return!ga||b<ga||F>pa}function d(b,F){ga=b;pa=F;u=[];b=++ua;X=F=Y.length;for(var L=0;L<F;L++)g(Y[L],b)}function g(b,F){n(b,function(L){if(F==ua){if(L){for(var T=0;T<L.length;T++){L[T].source=b;oa(L[T])}u=u.concat(L)}X--;X||
na(u)}})}function n(b,F){var L,T=Da.sourceFetchers,la;for(L=0;L<T.length;L++){la=T[L](b,ga,pa,F);if(la===true)return;else if(typeof la=="object"){n(la,F);return}}if(L=b.events)if(t.isFunction(L)){z();L(q(ga),q(pa),function(ja){F(ja);fa()})}else t.isArray(L)?F(L):F();else if(b.url){var da=b.success,J=b.error,ba=b.complete;L=t.extend({},b.data||{});T=Za(b.startParam,a.startParam);la=Za(b.endParam,a.endParam);if(T)L[T]=Math.round(+ga/1E3);if(la)L[la]=Math.round(+pa/1E3);z();t.ajax(t.extend({},dc,b,{data:L,
success:function(ja){ja=ja||[];var o=fb(da,this,arguments);if(t.isArray(o))ja=o;F(ja)},error:function(){fb(J,this,arguments);F()},complete:function(){fb(ba,this,arguments);fa()}}))}else F()}function i(b){if(b=h(b)){X++;g(b,ua)}}function h(b){if(t.isFunction(b)||t.isArray(b))b={events:b};else if(typeof b=="string")b={url:b};if(typeof b=="object"){ra(b);Y.push(b);return b}}function k(b){Y=t.grep(Y,function(F){return!wa(F,b)});u=t.grep(u,function(F){return!wa(F.source,b)});na(u)}function p(b){var F,
L=u.length,T,la=ea().defaultEventEnd,da=b.start-b._start,J=b.end?b.end-(b._end||la(b)):0;for(F=0;F<L;F++){T=u[F];if(T._id==b._id&&T!=b){T.start=new Date(+T.start+da);T.end=b.end?T.end?new Date(+T.end+J):new Date(+la(T)+J):null;T.title=b.title;T.url=b.url;T.allDay=b.allDay;T.className=b.className;T.editable=b.editable;T.color=b.color;T.backgroudColor=b.backgroudColor;T.borderColor=b.borderColor;T.textColor=b.textColor;oa(T)}}oa(b);na(u)}function I(b,F){oa(b);if(!b.source){if(F){ta.events.push(b);b.source=
ta}u.push(b)}na(u)}function V(b){if(b){if(!t.isFunction(b)){var F=b+"";b=function(T){return T._id==F}}u=t.grep(u,b,true);for(L=0;L<Y.length;L++)if(t.isArray(Y[L].events))Y[L].events=t.grep(Y[L].events,b,true)}else{u=[];for(var L=0;L<Y.length;L++)if(t.isArray(Y[L].events))Y[L].events=[]}na(u)}function v(b){if(t.isFunction(b))return t.grep(u,b);else if(b){b+="";return t.grep(u,function(F){return F._id==b})}return u}function z(){C++||ha("loading",null,true,ea())}function fa(){--C||ha("loading",null,
false,ea())}function oa(b){var F=b.source||{},L=Za(F.ignoreTimezone,a.ignoreTimezone);b._id=b._id||(b.id===va?"_fc"+ec++:b.id+"");if(b.date){if(!b.start)b.start=b.date;delete b.date}b._start=q(b.start=rb(b.start,L));b.end=rb(b.end,L);if(b.end&&b.end<=b.start)b.end=null;b._end=b.end?q(b.end):null;if(b.allDay===va)b.allDay=Za(F.allDayDefault,a.allDayDefault);if(b.className){if(typeof b.className=="string")b.className=b.className.split(/\s+/)}else b.className=[]}function ra(b){if(b.className){if(typeof b.className==
"string")b.className=b.className.split(/\s+/)}else b.className=[];for(var F=Da.sourceNormalizers,L=0;L<F.length;L++)F[L](b)}function wa(b,F){return b&&F&&sa(b)==sa(F)}function sa(b){return(typeof b=="object"?b.events||b.url:"")||b}var ka=this;ka.isFetchNeeded=f;ka.fetchEvents=d;ka.addEventSource=i;ka.removeEventSource=k;ka.updateEvent=p;ka.renderEvent=I;ka.removeEvents=V;ka.clientEvents=v;ka.normalizeEvent=oa;var ha=ka.trigger,ea=ka.getView,na=ka.reportEvents,ta={events:[]},Y=[ta],ga,pa,ua=0,X=0,
C=0,u=[];for(ka=0;ka<c.length;ka++)h(c[ka])}function cc(a){function c(h){var k={};if(t.isFunction(h)){k={resources:h};n.push(k)}else if(typeof h=="string"){k={url:h};n.push(k)}else if(typeof h=="object")for(var p=0;p<h.length;p++){k=h[p];g(k);k={resources:k};n.push(k)}}function f(h,k){h=typeof h!=="undefined"?h:true;if(!(i!=va&&h)){i=[];h=n.length;for(var p=0;p<h;p++){var I=d(n[p],k);i=i.concat(I)}}return i}function d(h,k){var p=h.resources;if(p){if(t.isFunction(p))return p()}else{var I=h.url;if(I){var V=
{};if(typeof k=="object"){var v=a.startParam,z=a.endParam;if(v)V[v]=Math.round(+k.visStart/1E3);if(z)V[z]=Math.round(+k.visEnd/1E3)}t.ajax(t.extend({},h,{data:V,dataType:"json",cache:false,success:function(fa){p=fa=fa||[]},error:function(){alert("ajax error getting json from "+I)},async:false}))}}return p}function g(h){if(h.className){if(typeof h.className=="string")h.className=h.className.split(/\s+/)}else h.className=[];for(var k=Da.sourceNormalizers,p=0;p<k.length;p++)k[p](h)}this.fetchResources=
f;var n=[],i;c(a.resources)}function ob(a,c,f){a.setFullYear(a.getFullYear()+c);f||Ka(a);return a}function Ya(a,c,f){if(+a){c=a.getMonth()+c;var d=q(a);d.setDate(1);d.setMonth(c);a.setMonth(c);for(f||Ka(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function fc(a,c,f){N(a,c*7,f);return a}function N(a,c,f){if(+a){c=a.getDate()+c;var d=q(a);d.setHours(9);d.setDate(c);a.setDate(c);f||Ka(a);sb(a,d)}return a}function sb(a,c){if(+a)for(;a.getDate()!=c.getDate();)a.setTime(+a+
(a<c?1:-1)*gc)}function xa(a,c){a.setMinutes(a.getMinutes()+c);return a}function Ka(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function q(a,c){if(c)return Ka(new Date(+a));return new Date(+a)}function Jb(){var a=0,c;do c=new Date(1970,a++,1);while(c.getHours());return c}function Ba(a,c,f){for(c=c||1;!a.getDay()||f&&a.getDay()==1||!f&&a.getDay()==6;)N(a,c);return a}function Ca(a,c){return Math.round((q(a,true)-q(c,true))/tb)}function Ib(a,c,f,d){if(c!==va&&c!=a.getFullYear()){a.setDate(1);
a.setMonth(0);a.setFullYear(c)}if(f!==va&&f!=a.getMonth()){a.setDate(1);a.setMonth(f)}d!==va&&a.setDate(d)}function Kb(a){a=new Date(a);a.setHours(0,0,0);a.setDate(a.getDate()+4-(a.getDay()||7));var c=new Date(a.getFullYear(),0,1);return Math.ceil(((a-c)/864E5+1)/7)}function rb(a,c){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(c===va)c=true;return Lb(a,c)||(a?new Date(a):null)}return null}
function Lb(a,c){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var f=new Date(a[1],0,1);if(c||!a[13]){c=new Date(a[1],0,1,9,0);if(a[3]){f.setMonth(a[3]-1);c.setMonth(a[3]-1)}if(a[5]){f.setDate(a[5]);c.setDate(a[5])}sb(f,c);a[7]&&f.setHours(a[7]);a[8]&&f.setMinutes(a[8]);a[10]&&f.setSeconds(a[10]);a[12]&&f.setMilliseconds(Number("0."+a[12])*1E3);sb(f,c)}else{f.setUTCFullYear(a[1],
a[3]?a[3]-1:0,a[5]||1);f.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){c=Number(a[16])*60+(a[18]?Number(a[18]):0);c*=a[15]=="-"?1:-1;f=new Date(+f+c*60*1E3)}}return f}function Sa(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var c=parseInt(a[1],10);if(a[3]){c%=12;if(a[3].toLowerCase().charAt(0)=="p")c+=12}return c*60+(a[2]?parseInt(a[2],10):0)}}function Ra(a,c,f){return pb(a,
null,c,f)}function pb(a,c,f,d){d=d||eb;var g=a,n=c,i,h=f.length,k,p,I,V="";for(i=0;i<h;i++){k=f.charAt(i);if(k=="'")for(p=i+1;p<h;p++){if(f.charAt(p)=="'"){if(g){V+=p==i+1?"'":f.substring(i+1,p);i=p}break}}else if(k=="(")for(p=i+1;p<h;p++){if(f.charAt(p)==")"){i=Ra(g,f.substring(i+1,p),d);if(parseInt(i.replace(/\D/,""),10))V+=i;i=p;break}}else if(k=="[")for(p=i+1;p<h;p++){if(f.charAt(p)=="]"){k=f.substring(i+1,p);i=Ra(g,k,d);if(i!=Ra(n,k,d))V+=i;i=p;break}}else if(k=="{"){g=c;n=a}else if(k=="}"){g=
a;n=c}else{for(p=h;p>i;p--)if(I=hc[f.substring(i,p)]){if(g)V+=I(g,d);i=p-1;break}if(p==i)if(g)V+=k}}return V}function Na(a){return a.end?ic(a.end,a.allDay):N(q(a.start),1)}function ic(a,c){a=q(a);return c||a.getHours()||a.getMinutes()?N(a,1):Ka(a)}function jc(a,c){return(c.msLength-a.msLength)*100+(a.event.start-c.event.start)}function Mb(a,c){return a.end>c.start&&a.start<c.end}function gb(a,c,f,d){var g=[],n,i=a.length,h,k,p,I,V;for(n=0;n<i;n++){h=a[n];k=h.start;p=c[n];if(p>f&&k<d){if(k<f){k=q(f);
I=false}else{k=k;I=true}if(p>d){p=q(d);V=false}else{p=p;V=true}g.push({event:h,start:k,end:p,isStart:I,isEnd:V,msLength:p-k})}}return g.sort(jc)}function ub(a){var c=[],f,d=a.length,g,n,i,h;for(f=0;f<d;f++){g=a[f];for(n=0;;){i=false;if(c[n])for(h=0;h<c[n].length;h++)if(Mb(c[n][h],g)){i=true;break}if(i)n++;else break}if(c[n])c[n].push(g);else c[n]=[g]}return c}function Nb(a,c,f){a.unbind("mouseover").mouseover(function(d){for(var g=d.target,n;g!=this;){n=g;g=g.parentNode}if((g=n._fci)!==va){n._fci=
va;n=c[g];f(n.event,n.element,n);t(d.target).trigger(d)}d.stopPropagation()})}function Ta(a,c,f){for(var d=0,g;d<a.length;d++){g=t(a[d]);g.width(Math.max(0,c-vb(g,f)))}}function Ob(a,c,f){for(var d=0,g;d<a.length;d++){g=t(a[d]);g.height(Math.max(0,c-Qa(g,f)))}}function vb(a,c){return kc(a)+lc(a)+(c?mc(a):0)}function kc(a){return(parseFloat(t.curCSS(a[0],"paddingLeft",true))||0)+(parseFloat(t.curCSS(a[0],"paddingRight",true))||0)}function mc(a){return(parseFloat(t.curCSS(a[0],"marginLeft",true))||
0)+(parseFloat(t.curCSS(a[0],"marginRight",true))||0)}function lc(a){return(parseFloat(t.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(t.curCSS(a[0],"borderRightWidth",true))||0)}function Qa(a,c){return nc(a)+oc(a)+(c?Pb(a):0)}function nc(a){return(parseFloat(t.curCSS(a[0],"paddingTop",true))||0)+(parseFloat(t.curCSS(a[0],"paddingBottom",true))||0)}function Pb(a){return(parseFloat(t.curCSS(a[0],"marginTop",true))||0)+(parseFloat(t.curCSS(a[0],"marginBottom",true))||0)}function oc(a){return(parseFloat(t.curCSS(a[0],
"borderTopWidth",true))||0)+(parseFloat(t.curCSS(a[0],"borderBottomWidth",true))||0)}function Xa(a,c){c=typeof c=="number"?c+"px":c;a.each(function(f,d){d.style.cssText+=";min-height:"+c+";_height:"+c})}function Hb(){}function Qb(a,c){return a-c}function Rb(a){return Math.max.apply(Math,a)}function Ua(a){return(a<10?"0":"")+a}function qb(a,c){if(a[c]!==va)return a[c];c=c.split(/(?=[A-Z])/);for(var f=c.length-1,d;f>=0;f--){d=a[c[f].toLowerCase()];if(d!==va)return d}return a[""]}function Va(a){return a.replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Sb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function $a(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function hb(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}
function ab(a,c){a.each(function(f,d){d.className=d.className.replace(/^fc-\w*/,"fc-id"+c)})}function Tb(a,c){var f=a.source||{},d=a.color,g=f.color,n=c("eventColor"),i=a.backgroundColor||d||f.backgroundColor||g||c("eventBackgroundColor")||n;d=a.borderColor||d||f.borderColor||g||c("eventBorderColor")||n;a=a.textColor||f.textColor||c("eventTextColor");c=[];i&&c.push("background-color:"+i);d&&c.push("border-color:"+d);a&&c.push("color:"+a);return c.join(";")}function fb(a,c,f){if(t.isFunction(a))a=
[a];if(a){var d,g;for(d=0;d<a.length;d++)g=a[d].apply(c,f)||g;return g}}function Za(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==va)return arguments[a]}function pc(a,c){function f(h,k){if(k){Ya(h,k);h.setDate(1)}h=q(h,true);h.setDate(1);k=Ya(q(h),1);var p=q(h),I=q(k),V=g("firstDay"),v=g("weekends")?0:1;if(v){Ba(p);Ba(I,-1,true)}N(p,-((p.getDay()-Math.max(V,v)+7)%7));N(I,(7-I.getDay()+Math.max(V,v))%7);V=Math.round((I-p)/(tb*7));if(g("weekMode")=="fixed"){N(I,(6-V)*7);V=6}d.title=i(h,g("titleFormat"));
d.start=h;d.end=k;d.visStart=p;d.visEnd=I;n(6,V,v?5:7,true)}var d=this;d.render=f;wb.call(d,a,c,"month");var g=d.opt,n=d.renderBasic,i=c.formatDate}function qc(a,c){function f(h,k){k&&N(h,k*7);h=N(q(h),-((h.getDay()-g("firstDay")+7)%7));k=N(q(h),7);var p=q(h),I=q(k),V=g("weekends");if(!V){Ba(p);Ba(I,-1,true)}d.title=i(p,N(q(I),-1),g("titleFormat"));d.start=h;d.end=k;d.visStart=p;d.visEnd=I;n(1,1,V?7:5,false)}var d=this;d.render=f;wb.call(d,a,c,"basicWeek");var g=d.opt,n=d.renderBasic,i=c.formatDates}
function rc(a,c){function f(h,k){if(k){N(h,k);g("weekends")||Ba(h,k<0?-1:1)}d.title=i(h,g("titleFormat"));d.start=d.visStart=q(h,true);d.end=d.visEnd=N(q(d.start),1);n(1,1,1,false)}var d=this;d.render=f;wb.call(d,a,c,"basicDay");var g=d.opt,n=d.renderBasic,i=c.formatDate}function wb(a,c,f){function d(G,e,s,r){A=e;D=s;g();(e=!ja)?n(G,r):F();i(e)}function g(){if($=u("isRTL")){U=-1;w=D-1}else{U=1;w=0}M=u("firstDay");ia=u("weekends")?0:1;qa=u("theme")?"ui":"fc";ca=u("columnFormat")}function n(G,e){var s,
r=qa+"-widget-header",P=qa+"-widget-content",O;s="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(O=0;O<D;O++)s+="<th class='fc- "+r+"'/>";s+="</tr></thead><tbody>";for(O=0;O<G;O++){s+="<tr class='fc-week"+O+"'>";for(r=0;r<D;r++)s+="<td class='fc- "+P+" fc-day"+(O*D+r)+"'><div>"+(e?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";s+="</tr>"}s+="</tbody></table>";G=t(s).appendTo(a);J=
G.find("thead");ba=J.find("th");ja=G.find("tbody");o=ja.find("tr");H=ja.find("td");R=H.filter(":first-child");Q=o.eq(0).find("div.fc-day-content div");hb(J.add(J.find("tr")));hb(o);o.eq(0).addClass("fc-first");p(H);B=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function i(G){var e=G||A==1,s=C.start.getMonth(),r=Ka(new Date),P,O,aa;e&&ba.each(function(ma,za){P=t(za);O=ga(ma);P.html(da(O,ca));ab(P,O)});H.each(function(ma,za){P=t(za);O=ga(ma);O.getMonth()==s?P.removeClass("fc-other-month"):
P.addClass("fc-other-month");+O==+r?P.addClass(qa+"-state-highlight fc-today"):P.removeClass(qa+"-state-highlight fc-today");P.find("div.fc-day-number").text(O.getDate());e&&ab(P,O)});o.each(function(ma,za){aa=t(za);if(ma<A){aa.show();ma==A-1?aa.addClass("fc-last"):aa.removeClass("fc-last")}else aa.hide()})}function h(G){j=G;G=j-J.height();var e,s,r;if(u("weekMode")=="variable")e=s=Math.floor(G/(A==1?2:6));else{e=Math.floor(G/A);s=G-e*(A-1)}R.each(function(P,O){if(P<A){r=t(O);Xa(r.find("> div"),(P==
A-1?s:e)-Qa(r))}})}function k(G){l=G;K.clear();m=Math.floor(l/D);Ta(ba.slice(0,-1),m)}function p(G){G.click(I).mousedown(la)}function I(G){if(!u("selectable")){var e=parseInt(this.className.match(/fc\-day(\d+)/)[1]);e=ga(e);b("dayClick",this,e,true,G)}}function V(G,e,s){s&&y.build();s=q(C.visStart);for(var r=N(q(s),D),P=0;P<A;P++){var O=new Date(Math.max(s,G)),aa=new Date(Math.min(r,e));if(O<aa){var ma;if($){ma=Ca(aa,s)*U+w+1;O=Ca(O,s)*U+w+1}else{ma=Ca(O,s);O=Ca(aa,s)}p(v(P,ma,P,O-1))}N(s,7);N(r,
7)}}function v(G,e,s,r){G=y.rect(G,e,s,r,a);return L(G,a)}function z(G){return q(G)}function fa(G,e){V(G,N(q(e),1),true)}function oa(){T()}function ra(G,e,s){var r=na(G);b("dayClick",H[r.row*D+r.col],G,e,s)}function wa(G,e){E.start(function(s){T();s&&v(s.row,s.col,s.row,s.col)},e)}function sa(G,e,s){var r=E.stop();T();if(r){r=ta(r);b("drop",G,r,true,e,s)}}function ka(G){return q(G.start)}function ha(G){return K.left(G)}function ea(G){return K.right(G)}function na(G){return{row:Math.floor(Ca(G,C.visStart)/
7),col:pa(G.getDay())}}function ta(G){return Y(G.row,G.col)}function Y(G,e){return N(q(C.visStart),G*7+e*U+w)}function ga(G){return Y(Math.floor(G/D),G%D)}function pa(G){return(G-Math.max(M,ia)+D)%D*U+w}function ua(G){return o.eq(G)}function X(){return{left:0,right:l}}var C=this;C.renderBasic=d;C.setHeight=h;C.setWidth=k;C.renderDayOverlay=V;C.defaultSelectionEnd=z;C.renderSelection=fa;C.clearSelection=oa;C.reportDayClick=ra;C.dragStart=wa;C.dragStop=sa;C.defaultEventEnd=ka;C.getHoverListener=function(){return E};
C.colContentLeft=ha;C.colContentRight=ea;C.dayOfWeekCol=pa;C.dateCell=na;C.cellDate=ta;C.cellIsAllDay=function(){return true};C.allDayRow=ua;C.allDayBounds=X;C.getRowCnt=function(){return A};C.getColCnt=function(){return D};C.getColWidth=function(){return m};C.getViewName=function(){return f};C.getDaySegmentContainer=function(){return B};xb.call(C,a,c,f);yb.call(C);zb.call(C);sc.call(C);var u=C.opt,b=C.trigger,F=C.clearEvents,L=C.renderOverlay,T=C.clearOverlays,la=C.daySelectionMousedown,da=c.formatDate,
J,ba,ja,o,H,R,Q,B,l,j,m,A,D,y,E,K,$,U,w,M,ia,qa,ca;$a(a.addClass("fc-grid"));y=new Ab(function(G,e){var s,r,P;ba.each(function(O,aa){s=t(aa);r=s.offset().left;if(O)P[1]=r;P=[r];e[O]=P});P[1]=r+s.outerWidth();o.each(function(O,aa){if(O<A){s=t(aa);r=s.offset().top;if(O)P[1]=r;P=[r];G[O]=P}});P[1]=r+s.outerHeight()});E=new Bb(y);K=new Cb(function(G){return Q.eq(G)})}function sc(){function a(Y,ga){I(Y);na(f(Y),ga)}function c(){V();ra().empty()}function f(Y){var ga=ha(),pa=ea(),ua=q(n.visStart);pa=N(q(ua),
pa);var X=t.map(Y,Na),C,u,b,F,L,T,la=[];for(C=0;C<ga;C++){u=ub(gb(Y,X,ua,pa));for(b=0;b<u.length;b++){F=u[b];for(L=0;L<F.length;L++){T=F[L];T.row=C;T.level=b;la.push(T)}}N(ua,7);N(pa,7)}return la}function d(Y,ga,pa){k(Y)&&g(Y,ga);pa.isEnd&&p(Y)&&ta(Y,ga,pa);v(Y,ga)}function g(Y,ga){var pa=wa(),ua;ga.draggable({zIndex:9,delay:50,opacity:i("dragOpacity"),revertDuration:i("dragRevertDuration"),start:function(X,C){h("eventDragStart",ga,Y,X,C);fa(Y,ga);pa.start(function(u,b,F,L){ga.draggable("option",
"revert",!u||!F&&!L);ka();if(u){ua=F*7+L*(i("isRTL")?-1:1);sa(N(q(Y.start),ua),N(Na(Y),ua))}else ua=0},X,"drag")},stop:function(X,C){pa.stop();ka();h("eventDragStop",ga,Y,X,C);if(ua)oa(this,Y,ua,0,Y.allDay,X,C);else{ga.css("filter","");z(Y,ga)}}})}var n=this;n.renderEvents=a;n.compileDaySegs=f;n.clearEvents=c;n.bindDaySeg=d;Db.call(n);var i=n.opt,h=n.trigger,k=n.isEventDraggable,p=n.isEventResizable,I=n.reportEvents,V=n.reportEventClear,v=n.eventElementHandlers,z=n.showEvents,fa=n.hideEvents,oa=n.eventDrop,
ra=n.getDaySegmentContainer,wa=n.getHoverListener,sa=n.renderDayOverlay,ka=n.clearOverlays,ha=n.getRowCnt,ea=n.getColCnt,na=n.renderDaySegs,ta=n.resizableDayEvent}function tc(a,c){function f(k,p){if(p){N(k,p*1);g("weekends")||Ba(k,p<0?-1:1)}k=xa(q(k,true),Sa(g("minTime")));p=xa(q(k),Sa(g("maxTime"))-Sa(g("minTime")));var I=q(k),V=q(p);d.title=i(I,N(q(V),-1),g("titleFormat"));d.start=k;d.end=p;d.visStart=I;d.visEnd=V;k=Math.round((V-I)/1E3/60/g("slotMinutes"));n(h.length,h.length,k,false)}var d=this;
d.render=f;ib.call(d,a,c,"resourceDay");var g=d.opt,n=d.renderBasic,i=c.formatDates,h=d.getResources}function uc(a,c){function f(k,p){p&&N(k,p*7);k=N(q(k),-((k.getDay()-g("firstDay")+7)%7));p=N(q(k),7);var I=q(k),V=q(p),v=g("weekends");if(!v){Ba(I);Ba(V,-1,true)}d.title=i(I,N(q(V),-1),g("titleFormat"));d.start=k;d.end=p;d.visStart=I;d.visEnd=V;n(h.length,h.length,v?7:5,false)}var d=this;d.render=f;ib.call(d,a,c,"resourceWeek");var g=d.opt,n=d.renderBasic,i=c.formatDates,h=d.getResources}function vc(a,
c){function f(k,p){var I=g("weekends");if(p)N(k,p*(g("numberOfWeeks")*I?7:5));k=N(q(k),-((k.getDay()-g("firstDay")+I?7:5)%I?7:5));p=fc(q(k),g("numberOfWeeks"));var V=q(k),v=q(p);if(!I){Ba(V);Ba(v,-1,true)}d.title=i(V,N(q(v),-1),g("titleFormat"));d.start=k;d.end=p;d.visStart=V;d.visEnd=v;n(h.length,h.length,I?g("numberOfWeeks")*7:g("numberOfWeeks")*5,false)}var d=this;d.render=f;ib.call(d,a,c,"resourceNextWeeks");var g=d.opt,n=d.renderBasic,i=c.formatDates,h=d.getResources}function wc(a,c){function f(k,
p){if(p){Ya(k,p*1);k.setDate(1)}var I=q(k,true);I.setDate(1);var V=Ya(q(I),1);k=q(I);var v=q(V);p=g("weekends");if(!p){Ba(k);Ba(v,-1,true)}d.title=i(k,N(q(v),-1),g("titleFormat"));d.start=I;d.end=V;d.visStart=k;d.visEnd=v;I=Math.round((v-k)/tb);if(!p){V=0;for(v=1;v<=I;v++){p=N(q(k),v);if(p.getDay()==0||p.getDay()==6)V++}I-=V}n(h.length,h.length,I,false)}var d=this;d.render=f;ib.call(d,a,c,"resourceMonth");var g=d.opt,n=d.renderBasic,i=c.formatDates,h=d.getResources}function ib(a,c,f){function d(e,
s,r,P){D=s;y=r;g();(s=!o)||f=="resourceMonth"?n(e,P):L();i(s)}function g(){if(U=b("isRTL")){w=-1;M=y-1}else{w=1;M=0}ia=b("firstDay");qa=b("weekends")?0:1;ca=b("theme")?"ui":"fc";G=b("columnFormat")}function n(e,s){var r,P=ca+"-widget-header",O=ca+"-widget-content",aa,ma,za=u.getResources;r="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr class='fc-first fc-last'><th class='fc-resourceName'>&nbsp;</th>";for(aa=0;aa<y;aa++)r+="<th class='fc- "+P+"'/>";r+="</tr></thead><tbody>";
for(aa=0;aa<e;aa++){P=za[aa].id;ma=za[aa].name;r+="<tr class='fc-week"+P+"'><td class='fc-resourceName'>"+ma+"</td>";for(ma=0;ma<y;ma++)r+="<td class='fc- "+O+" fc-day"+ma+" fc-resource"+P+"'><div>"+(s?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";r+="</tr>"}r+="</tbody></table>";e=a.html(t(r));ba=e.find("thead");ja=ba.find("th:not(th.fc-resourceName)");o=e.find("tbody");H=o.find("tr");R=o.find("td:not(td.fc-resourceName)");
Q=H.children().filter(":first-child");B=H.eq(0).find("div.fc-day-content div");ja.removeClass("fc-first fc-last").filter(":first").addClass("fc-first").end().filter(":last").addClass("fc-last");R.removeClass("fc-first fc-last");H.each(function(){t(this).children("td:not(td.fc-resourceName):first").addClass("fc-first");t(this).children("td:not(td.fc-resourceName):last").addClass("fc-last")});H.eq(0).addClass("fc-first");p(R);l=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}
function i(){u.start.getMonth();var e=Ka(new Date),s,r,P,O=0;b("weekends");ja.each(function(aa,ma){s=t(ma);r=ga(aa);s.html(J(r,G));if(r.getDay()==0||r.getDay()==6)s.addClass("fc-weekend");r.getDay()==1&&f=="resourceNextWeeks"&&s.html(s.html()+"<br>"+b("weekPrefix")+" "+Kb(r));ab(s,aa)});O=0;R.each(function(aa,ma){s=t(ma);r=ga(aa);+r==+e?s.addClass(ca+"-state-highlight fc-today"):s.removeClass(ca+"-state-highlight fc-today");s.find("div.fc-day-number").text(r.getDate());ab(s,aa)});H.each(function(aa,
ma){P=t(ma);if(aa<D){P.show();aa==D-1?P.addClass("fc-last"):P.removeClass("fc-last")}else P.hide()})}function h(e){m=e;e=m-ba.height();var s,r,P;if(b("weekMode")=="variable")s=r=Math.floor(e/(D==1?2:6));else{s=Math.floor(e/D);r=e-s*(D-1)}Q.each(function(O,aa){if(O<D){P=t(aa);Xa(P.find("> div"),(O==D-1?r:s)-Qa(P))}})}function k(e){j=e;j-=t("th.fc-resourceName").css("width").replace("px","");$.clear();A=Math.floor(j/y);Ta(ja.slice(0,-1),A)}function p(e){e.click(I).mousedown(da)}function I(e){if(!b("selectable")){var s=
parseInt(this.className.match(/fc\-day(\d+)/)[1]);s=ga(s);F("dayClick",this,s,true,e)}}function V(e,s,r,P){r&&E.build();r=q(u.visStart);var O=N(q(r),y);if(f=="resourceDay")O=xa(q(r),b("slotMinutes")*y);else b("weekends")||(O=q(u.visEnd));e=new Date(Math.max(r,e));O=new Date(Math.min(O,s));if(e<O){if(f=="resourceDay"){s=(e-r)/1E3/60/b("slotMinutes");r=(O-r)/1E3/60/b("slotMinutes")}else{if(U){s=Ca(O,r)*w+M+1;r=Ca(e,r)*w+M+1}else{s=Ca(e,r);r=Ca(O,r)}if(!b("weekends")){var aa=0;for(O=0;O<=s;O++){e=N(q(u.visStart),
O);if(e.getDay()==0||e.getDay()==6)aa++}s-=aa;for(O=aa=0;O<=r-1;O++){e=N(q(u.visStart),O);if(e.getDay()==0||e.getDay()==6)aa++}r-=aa}}p(v(P,s,P,r-1))}}function v(e,s,r,P){e=E.rect(e,Math.round(s),r,Math.round(P),a);return T(e,a)}function z(e){return q(e)}function fa(e,s,r,P){f=="resourceDay"?V(e,xa(q(s),b("slotMinutes")),true,P):V(e,N(q(s),1),true,P)}function oa(){la()}function ra(e,s,r,P){var O=na(e);F("dayClick",R[O.col],e,s,r,P)}function wa(e,s){K.start(function(r){la();r&&v(r.row,r.col,r.row,
r.col)},s)}function sa(e,s,r){var P=K.stop();la();if(P){var O=u.getResources[P.row];P=ta(P);F("drop",e,P,true,s,r,O)}}function ka(e){return q(e.start)}function ha(e){return $.left(e)}function ea(e){return $.right(e)}function na(e){var s,r,P,O,aa,ma,za,bb,Ja=b("weekends");if(f=="resourceDay")s=ua(e);else if(f=="resourceNextWeeks"){r=e.getFullYear();P=e.getMonth();O=e.getDate();for(var Ga=0;Ga<y;Ga++){aa=Y(Ga);ma=aa.getFullYear();za=aa.getMonth();bb=aa.getDate();if(r==ma&&P==za&&O==bb){s=Ga;break}else if(aa>
e&&!Ja){s=Ga-1;break}}if(typeof s=="undefined")s=Ga}else s=pa(e.getDay());return{col:s}}function ta(e){return Y(e.col)}function Y(e){if(f=="resourceDay")return xa(q(u.visStart),e*b("slotMinutes"));else{if(!b("weekends")){var s,r;for(r=0;r<=e;r++){s=N(q(u.visStart),r);if(s.getDay()==6||s.getDay()==0)e++}}return N(q(u.visStart),e,true)}}function ga(e){return Y(e%y)}function pa(e){return(e-Math.max(ia,qa)+y)%y*w+M}function ua(e){var s=e.getHours();e=e.getMinutes();for(var r=b("slotMinutes"),P,O,aa,ma,
za=0;za<=60/r;za++){P=za*r;O=Math.abs(P-e);if(O<=aa||za==0){aa=O;ma=P}if(ma==60){s++;ma=0}}e=ma;for(za=0;za<y;za++)if(ga(za).getHours()==s&&ga(za).getMinutes()==e)return za;return y}function X(e){return H.eq(e)}function C(){var e=parseInt(t(ba).find("th.fc-resourceName").css("width").replace("px",""));return{left:e,right:j+e}}var u=this;u.renderBasic=d;u.setHeight=h;u.setWidth=k;u.renderDayOverlay=V;u.defaultSelectionEnd=z;u.renderSelection=fa;u.clearSelection=oa;u.reportDayClick=ra;u.dragStart=wa;
u.dragStop=sa;u.defaultEventEnd=ka;u.getHoverListener=function(){return K};u.colContentLeft=ha;u.colContentRight=ea;u.dayOfWeekCol=pa;u.timeOfDayCol=ua;u.dateCell=na;u.cellDate=ta;u.cellIsAllDay=function(){return true};u.allDayRow=X;u.allDayBounds=C;u.getRowCnt=function(){return D};u.getColCnt=function(){return y};u.getResources=c.fetchResources();u.getColWidth=function(){return A};u.getViewName=function(){return f};u.getDaySegmentContainer=function(){return l};xb.call(u,a,c,f);yb.call(u);zb.call(u);
xc.call(u);var b=u.opt,F=u.trigger,L=u.clearEvents,T=u.renderOverlay,la=u.clearOverlays,da=u.daySelectionMousedown,J=c.formatDate,ba,ja,o,H,R,Q,B,l,j,m,A,D,y,E,K,$,U,w,M,ia,qa,ca,G;$a(a.addClass("fc-grid"));E=new Ab(function(e,s){var r,P,O;ja.each(function(aa,ma){r=t(ma);P=r.offset().left;if(aa)O[1]=P;O=[P];s[aa]=O});O[1]=P+r.outerWidth();H.each(function(aa,ma){if(aa<D){r=t(ma);P=r.offset().top;if(aa)O[1]=P;O=[P];e[aa]=O}});O[1]=P+r.outerHeight()});K=new Bb(E);$=new Cb(function(e){return B.eq(e)})}
function xc(){function a(b,F){V(b);Y(f(b),F)}function c(){v();wa().empty()}function f(b){var F=ea();na();var L=i.getResources,T=q(i.visStart),la=q(i.visEnd),da=t.map(b,Na),J,ba,ja,o,H;J=ta();var R=[],Q=h("weekends"),B,l,j,m;if(J=="resourceDay")da=t.map(b,function(A){return A.end||N(A.start,1)});for(J=0;J<F;J++){H=L[J].id;ba=gb(b,da,T,la);for(ja=0;ja<ba.length;ja++){o=ba[ja];o.row=J;if(!t.isArray(o.event.resource))o.event.resource=[o.event.resource];B=o.event.start.getDay();j=o.event.start.getDate();
if(o.event.end==null){l=o.event.start.getDay();m=q(o.event.start,true).getDate()}else{l=o.event.end.getDay();m=o.event.end.getDate()}!Q&&(B==6||B==0)&&(l==6||l==0)&&(j==m||N(q(o.event.start),1).getDate()==m)||t.inArray(H,o.event.resource)!="-1"&&R.push(o)}}return R}function d(b,F,L){p(b)&&g(b,F);L.isEnd&&I(b)&&n(b,F,L);z(b,F)}function g(b,F){var L=sa(),T,la,da,J,ba=i.getResources,ja=ta(),o,H,R,Q,B,l,j=false;t(ba).each(function(m,A){if(A.id==b.resource&&A.readonly)j=true});F.draggable({zIndex:9,delay:50,
disabled:j,opacity:h("dragOpacity"),revertDuration:h("dragRevertDuration"),start:function(m,A){k("eventDragStart",F,b,m,A);oa(b,F);L.start(function(D,y,E,K){F.draggable("option","revert",!D||!E&&!K||ba[D.row].readonly===true);ha();if(D&&!ba[D.row].readonly){da=E;J=ba[D.row].id;if(ja=="resourceDay"){la=K*(h("isRTL")?-1:1)*h("slotMinutes");ka(xa(q(b.start),la),xa(q(b.end),la),false,D.row)}else{T=Q=B=K*(h("isRTL")?-1:1);if(!h("weekends")&&(T>0||T<0))if(T>0){for(l=1;l<=Q;l++){o=N(q(b.start),l);if(o.getDay()==
6||o.getDay()==0)Q++}for(l=1;l<=B;l++){o=N(q(b.end),l);if(o.getDay()==6||o.getDay()==0)B++}}else{for(l=-1;l>=Q;l--){o=N(q(b.start),l);if(o.getDay()==6||o.getDay()==0)Q--}for(l=-1;l>=B;l--){o=N(q(b.end),l);if(o.getDay()==6||o.getDay()==0)B--}}ka(N(q(b.start),Q),N(Na(b),B),false,D.row)}}else da=T=la=0},m,"drag")},stop:function(m,A){L.stop();ha();k("eventDragStop",F,b,m,A);if(ja=="resourceDay"&&(la||da))ra(this,b,0,la,b.allDay,m,A,J);else if(T||da){if(!h("weekends"))if(T>0){H=0;for(l=1;l<=T+H;l++){o=
N(q(b.start),l);if(o.getDay()==6||o.getDay()==0)H++}if(H>0)b.start=N(q(b.start),H,true);H=0;for(l=1;l<=T+H;l++){o=N(q(b.end),l);if(o.getDay()==6||o.getDay()==0)H++}if(H>0)b.end=N(q(b.end),H,true)}else{R=0;for(l=-1;l>=T+R;l--){o=N(q(b.start),l);if(o.getDay()==6||o.getDay()==0)R--}if(R<0)b.start=N(q(b.start),R,true);R=0;for(l=-1;l>=T+R;l--){o=N(q(b.end),l);if(o.getDay()==6||o.getDay()==0)R--}if(R<0)b.end=N(q(b.end),R,true)}ra(this,b,T,0,b.allDay,m,A,J)}else{F.css("filter","");fa(b,F)}}})}function n(b,
F,L){var T=h("isRTL"),la=T?"w":"e",da=F.find("div.ui-resizable-"+la),J=false,ba=false;t(i.getResources).each(function(ja,o){if(o.id==b.resource&&o.readonly)ba=true});if(ba)return false;$a(F);F.mousedown(function(ja){ja.preventDefault()}).click(function(ja){if(J){ja.preventDefault();ja.stopImmediatePropagation()}});da.mousedown(function(ja){function o(U){k("eventResizeStop",this,b,U);t("body").css("cursor","");H.stop();ha();if(m){if(!h("weekends"))if(m>0){for(var w=0,M=1;M<=m+w;M++){$=N(q(b.end),M);
if($.getDay()==6||$.getDay()==0)w++}if(w>0)b.end=N(q(b.end),w,true)}else{w=0;for(M=-1;M>=m+w;M--){$=N(q(b.end),M);if($.getDay()==6||$.getDay()==0)w--}if(w<0)b.end=N(q(b.end),w,true)}u(this,b,m,0,U)}else D&&u(this,b,0,D,U);setTimeout(function(){J=false},0)}if(ja.which==1){J=true;var H=i.getHoverListener();ea();var R=na(),Q=ta(),B=T?-1:1,l=T?R-1:0,j=F.css("top"),m,A,D,y,E=t.extend({},b),K=ga(b.start),$;pa();t("body").css("cursor",la+"-resize").one("mouseup",o);k("eventResizeStart",this,b,ja);H.start(function(U,
w){if(U){Math.max(K.row,U.row);U=U.col;if(Q=="resourceDay"){D=h("slotMinutes")*U*B+l-(h("slotMinutes")*w.col*B+l);U=xa(ua(b),D,true)}else{m=A=7+U*B+l-(7+w.col*B+l);if(!h("weekends")&&(m>0||m<0))if(m>0)for(U=1;U<=A;U++){$=N(q(b.end),U);if($.getDay()==6||$.getDay()==0)A++}else for(U=-1;U>=A;U--){$=N(q(b.end),U);if($.getDay()==6||$.getDay()==0)A--}U=N(ua(b),A,true)}if(m||D){E.end=U;var M=y;y=X(C([E]),L.row,j);y.find("*").css("cursor",la+"-resize");M&&M.remove();oa(b)}else if(y){fa(b);y.remove();y=null}ha();
Q=="resourceDay"?ka(b.start,xa(q(U),0),1,w.row):ka(b.start,N(q(U),1),1,w.row)}},ja)}})}var i=this;i.renderEvents=a;i.compileDaySegs=f;i.clearEvents=c;i.bindDaySeg=d;i.resizableResourceEvent=n;Db.call(i);var h=i.opt,k=i.trigger,p=i.isEventDraggable,I=i.isEventResizable,V=i.reportEvents,v=i.reportEventClear,z=i.eventElementHandlers,fa=i.showEvents,oa=i.hideEvents,ra=i.eventDrop,wa=i.getDaySegmentContainer,sa=i.getHoverListener,ka=i.renderDayOverlay,ha=i.clearOverlays,ea=i.getRowCnt,na=i.getColCnt,ta=
i.getViewName,Y=i.renderDaySegs,ga=i.dateCell,pa=i.clearSelection,ua=i.eventEnd,X=i.renderTempDaySegs,C=i.compileDaySegs,u=i.eventResize}function yc(a,c){function f(h,k){k&&N(h,k*7);h=N(q(h),-((h.getDay()-g("firstDay")+7)%7));k=N(q(h),7);var p=q(h),I=q(k),V=g("weekends");if(!V){Ba(p);Ba(I,-1,true)}d.title=i(p,N(q(I),-1),g("titleFormat"));d.start=h;d.end=k;d.visStart=p;d.visEnd=I;n(V?7:5)}var d=this;d.render=f;Ub.call(d,a,c,"agendaWeek");var g=d.opt,n=d.renderAgenda,i=c.formatDates}function zc(a,c){function f(h,
k){if(k){N(h,k);g("weekends")||Ba(h,k<0?-1:1)}k=q(h,true);var p=N(q(k),1);d.title=i(h,g("titleFormat"));d.start=d.visStart=k;d.end=d.visEnd=p;n(1)}var d=this;d.render=f;Ub.call(d,a,c,"agendaDay");var g=d.opt,n=d.renderAgenda,i=c.formatDate}function Ub(a,c,f){function d(x){Ea=x;g();A?o():n();i()}function g(){cb=ba("theme")?"ui":"fc";Vb=ba("weekends")?0:1;Wb=ba("firstDay");if(Xb=ba("isRTL")){La=-1;Ma=Ea-1}else{La=1;Ma=0}Oa=Sa(ba("minTime"));jb=Sa(ba("maxTime"));Yb=ba("columnFormat")}function n(){var x=
cb+"-widget-header",Z=cb+"-widget-content",S,W,ya,Aa,Ha,Ia=ba("slotMinutes")%15==0;S="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+x+"'>&nbsp;</th>";for(W=0;W<Ea;W++)S+="<th class='fc- fc-col"+W+" "+x+"'/>";S+="<th class='fc-agenda-gutter "+x+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+x+"'>&nbsp;</th>";for(W=0;W<Ea;W++)S+="<td class='fc- fc-col"+W+" "+Z+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";
S+="<td class='fc-agenda-gutter "+Z+"'>&nbsp;</td></tr></tbody></table>";A=t(S).appendTo(a);D=A.find("thead");y=D.find("th").slice(1,-1);E=A.find("tbody");K=E.find("td").slice(0,-1);$=K.find("div.fc-day-content div");U=K.eq(0);w=U.find("> div");hb(D.add(D.find("tr")));hb(E.add(E.find("tr")));O=D.find("th:first");aa=A.find(".fc-agenda-gutter");M=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(ba("allDaySlot")){ia=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(M);
S="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+x+" fc-agenda-axis'>"+ba("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+x+" fc-agenda-gutter'>&nbsp;</th></tr></table>";qa=t(S).appendTo(M);ca=qa.find("tr");v(ca.find("td"));O=O.add(qa.find("th:first"));aa=aa.add(qa.find("th.fc-agenda-gutter"));M.append("<div class='fc-agenda-divider "+x+"'><div class='fc-agenda-divider-inner'/></div>")}else ia=t([]);
G=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(M);e=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(G);s=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e);S="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ya=Jb();Aa=xa(q(ya),jb);xa(ya,Oa);for(W=Eb=0;ya<Aa;W++){Ha=ya.getMinutes();S+="<tr class='fc-slot"+W+" "+(!Ha?"":"fc-minor")+"'><th class='fc-agenda-axis "+x+"'>"+(!Ia||!Ha?
m(ya,ba("axisFormat")):"&nbsp;")+"</th><td class='"+Z+"'><div style='position:relative'>&nbsp;</div></td></tr>";xa(ya,ba("slotMinutes"));Eb++}S+="</tbody></table>";r=t(S).appendTo(e);P=r.find("div:first");z(r.find("td"));O=O.add(r.find("th:first"))}function i(){var x,Z,S,W,ya=Ka(new Date);for(x=0;x<Ea;x++){W=na(x);Z=y.eq(x);Z.html(m(W,Yb));S=K.eq(x);+W==+ya?S.addClass(cb+"-state-highlight fc-today"):S.removeClass(cb+"-state-highlight fc-today");ab(Z.add(S),W)}}function h(x,Z){if(x===va)x=bb;bb=x;
Fb={};var S=E.position().top,W=G.position().top;x=Math.min(x-S,r.height()+W+1);w.height(x-Qa(U));M.css("top",S);G.height(x-W-1);db=P.height()+1;Z&&p()}function k(x){za=x;kb.clear();Ja=0;Ta(O.width("").each(function(Z,S){Ja=Math.max(Ja,t(S).outerWidth())}),Ja);x=G[0].clientWidth;if(Gb=G.width()-x){Ta(aa,Gb);aa.show().prev().removeClass("fc-last")}else aa.hide().prev().addClass("fc-last");Ga=Math.floor((x-Ja)/Ea);Ta(y.slice(0,-1),Ga)}function p(){function x(){G.scrollTop(W)}var Z=Jb(),S=q(Z);S.setHours(ba("firstHour"));
var W=ga(Z,S)+1;x();setTimeout(x,0)}function I(){Zb=G.scrollTop()}function V(){G.scrollTop(Zb)}function v(x){x.click(fa).mousedown(l)}function z(x){x.click(fa).mousedown(L)}function fa(x){if(!ba("selectable")){var Z=Math.min(Ea-1,Math.floor((x.pageX-A.offset().left-Ja)/Ga)),S=na(Z),W=this.parentNode.className.match(/fc-slot(\d+)/);if(W){W=parseInt(W[1])*ba("slotMinutes");var ya=Math.floor(W/60);S.setHours(ya);S.setMinutes(W%60+Oa);ja("dayClick",K[Z],S,false,x)}else ja("dayClick",K[Z],S,true,x)}}function oa(x,
Z,S){S&&Pa.build();var W=q(J.visStart);if(Xb){S=Ca(Z,W)*La+Ma+1;x=Ca(x,W)*La+Ma+1}else{S=Ca(x,W);x=Ca(Z,W)}S=Math.max(0,S);x=Math.min(Ea,x);S<x&&v(ra(0,S,0,x-1))}function ra(x,Z,S,W){x=Pa.rect(x,Z,S,W,M);return H(x,M)}function wa(x,Z){for(var S=q(J.visStart),W=N(q(S),1),ya=0;ya<Ea;ya++){var Aa=new Date(Math.max(S,x)),Ha=new Date(Math.min(W,Z));if(Aa<Ha){var Ia=ya*La+Ma;Ia=Pa.rect(0,Ia,0,Ia,e);Aa=ga(S,Aa);Ha=ga(S,Ha);Ia.top=Aa;Ia.height=Ha-Aa;z(H(Ia,e))}N(S,1);N(W,1)}}function sa(x){return kb.left(x)}
function ka(x){return kb.right(x)}function ha(x){return{row:Math.floor(Ca(x,J.visStart)/7),col:Y(x.getDay())}}function ea(x){var Z=na(x.col);x=x.row;ba("allDaySlot")&&x--;x>=0&&xa(Z,Oa+x*ba("slotMinutes"));return Z}function na(x){return N(q(J.visStart),x*La+Ma)}function ta(x){return ba("allDaySlot")&&!x.row}function Y(x){return(x-Math.max(Wb,Vb)+Ea)%Ea*La+Ma}function ga(x,Z){x=q(x,true);if(Z<xa(q(x),Oa))return 0;if(Z>=xa(q(x),jb))return r.height();x=ba("slotMinutes");Z=Z.getHours()*60+Z.getMinutes()-
Oa;var S=Math.floor(Z/x),W=Fb[S];if(W===va)W=Fb[S]=r.find("tr:eq("+S+") td div")[0].offsetTop;return Math.max(0,Math.round(W-1+db*(Z%x/x)))}function pa(){return{left:Ja,right:za-Gb}}function ua(){return ca}function X(x){var Z=q(x.start);if(x.allDay)return Z;return xa(Z,ba("defaultEventMinutes"))}function C(x,Z){if(Z)return q(x);return xa(q(x),ba("slotMinutes"))}function u(x,Z,S){if(S)ba("allDaySlot")&&oa(x,N(q(Z),1),true);else b(x,Z)}function b(x,Z){var S=ba("selectHelper");Pa.build();if(S){var W=
Ca(x,J.visStart)*La+Ma;if(W>=0&&W<Ea){W=Pa.rect(0,W,0,W,e);var ya=ga(x,x),Aa=ga(x,Z);if(Aa>ya){W.top=ya;W.height=Aa-ya;W.left+=2;W.width-=5;if(t.isFunction(S)){if(x=S(x,Z)){W.position="absolute";W.zIndex=8;ma=t(x).css(W).appendTo(e)}}else{W.isStart=true;W.isEnd=true;ma=t(j({title:"",start:x,end:Z,className:["fc-select-helper"],editable:false},W));ma.css("opacity",ba("dragOpacity"))}if(ma){z(ma);e.append(ma);Ta(ma,W.width,true);Ob(ma,W.height,true)}}}}else wa(x,Z)}function F(){R();if(ma){ma.remove();
ma=null}}function L(x){if(x.which==1&&ba("selectable")){B(x);var Z;Wa.start(function(S,W){F();if(S&&S.col==W.col&&!ta(S)){W=ea(W);S=ea(S);Z=[W,xa(q(W),ba("slotMinutes")),S,xa(q(S),ba("slotMinutes"))].sort(Qb);b(Z[0],Z[3])}else Z=null},x);t(document).one("mouseup",function(S){Wa.stop();if(Z){+Z[0]==+Z[1]&&T(Z[0],false,S);Q(Z[0],Z[3],false,S)}})}}function T(x,Z,S){ja("dayClick",K[Y(x.getDay())],x,Z,S)}function la(x,Z){Wa.start(function(S){R();if(S)if(ta(S))ra(S.row,S.col,S.row,S.col);else{S=ea(S);var W=
xa(q(S),ba("defaultEventMinutes"));wa(S,W)}},Z)}function da(x,Z,S){var W=Wa.stop();R();W&&ja("drop",x,ea(W),ta(W),Z,S)}var J=this;J.renderAgenda=d;J.setWidth=k;J.setHeight=h;J.beforeHide=I;J.afterShow=V;J.defaultEventEnd=X;J.timePosition=ga;J.dayOfWeekCol=Y;J.dateCell=ha;J.cellDate=ea;J.cellIsAllDay=ta;J.allDayRow=ua;J.allDayBounds=pa;J.getHoverListener=function(){return Wa};J.colContentLeft=sa;J.colContentRight=ka;J.getDaySegmentContainer=function(){return ia};J.getSlotSegmentContainer=function(){return s};
J.getMinMinute=function(){return Oa};J.getMaxMinute=function(){return jb};J.getBodyContent=function(){return e};J.getRowCnt=function(){return 1};J.getColCnt=function(){return Ea};J.getColWidth=function(){return Ga};J.getSlotHeight=function(){return db};J.getViewName=function(){return f};J.defaultSelectionEnd=C;J.renderDayOverlay=oa;J.renderSelection=u;J.clearSelection=F;J.reportDayClick=T;J.dragStart=la;J.dragStop=da;xb.call(J,a,c,f);yb.call(J);zb.call(J);Ac.call(J);var ba=J.opt,ja=J.trigger,o=J.clearEvents,
H=J.renderOverlay,R=J.clearOverlays,Q=J.reportSelection,B=J.unselect,l=J.daySelectionMousedown,j=J.slotSegHtml,m=c.formatDate,A,D,y,E,K,$,U,w,M,ia,qa,ca,G,e,s,r,P,O,aa,ma,za,bb,Ja,Ga,Gb,db,Zb,Ea,Eb,Pa,Wa,kb,Fb={},cb,Wb,Vb,Xb,La,Ma,Oa,jb,Yb;$a(a.addClass("fc-agenda"));Pa=new Ab(function(x,Z){function S(lb){return Math.max(Ia,Math.min(Bc,lb))}var W,ya,Aa;y.each(function(lb,Cc){W=t(Cc);ya=W.offset().left;if(lb)Aa[1]=ya;Aa=[ya];Z[lb]=Aa});Aa[1]=ya+W.outerWidth();if(ba("allDaySlot")){W=ca;ya=W.offset().top;
x[0]=[ya,ya+W.outerHeight()]}for(var Ha=e.offset().top,Ia=G.offset().top,Bc=Ia+G.outerHeight(),mb=0;mb<Eb;mb++)x.push([S(Ha+db*mb),S(Ha+db*(mb+1))])});Wa=new Bb(Pa);kb=new Cb(function(x){return $.eq(x)})}function Ac(){function a(j,m){sa(j);var A,D=j.length,y=[],E=[];for(A=0;A<D;A++)j[A].allDay?y.push(j[A]):E.push(j[A]);if(z("allDaySlot")){u(f(y),m);ea()}n(d(E),m)}function c(){ka();na().empty();ta().empty()}function f(j){j=ub(gb(j,t.map(j,Na),v.visStart,v.visEnd));var m,A=j.length,D,y,E,K=[];for(m=
0;m<A;m++){D=j[m];for(y=0;y<D.length;y++){E=D[y];E.row=0;E.level=m;K.push(E)}}return K}function d(j){var m=F(),A=pa(),D=ga(),y=xa(q(v.visStart),A),E=t.map(j,g),K,$,U,w,M,ia,qa=[];for(K=0;K<m;K++){$=ub(gb(j,E,y,xa(q(y),D-A)));Dc($);for(U=0;U<$.length;U++){w=$[U];for(M=0;M<w.length;M++){ia=w[M];ia.col=K;ia.level=U;qa.push(ia)}}N(y,1,true)}return qa}function g(j){return j.end?q(j.end):xa(q(j.start),z("defaultEventMinutes"))}function n(j,m){var A,D=j.length,y,E,K,$,U,w,M,ia,qa,ca="",G,e,s={},r={},P=ta(),
O;A=F();if(G=z("isRTL")){e=-1;O=A-1}else{e=1;O=0}for(A=0;A<D;A++){y=j[A];E=y.event;K=ua(y.start,y.start);$=ua(y.start,y.end);U=y.col;w=y.level;M=y.forward||0;ia=X(U*e+O);qa=C(U*e+O)-ia;qa=Math.min(qa-6,qa*0.95);U=w?qa/(w+M+1):M?(qa/(M+1)-6)*2:qa;w=ia+qa/(w+M+1)*w*e+(G?qa-U:0);y.top=K;y.left=w;y.outerWidth=U;y.outerHeight=$-K;ca+=i(E,y)}P[0].innerHTML=ca;G=P.children();for(A=0;A<D;A++){y=j[A];E=y.event;ca=t(G[A]);e=fa("eventRender",E,E,ca);if(e===false)ca.remove();else{if(e&&e!==true){ca.remove();
ca=t(e).css({position:"absolute",top:y.top,left:y.left}).appendTo(P)}y.element=ca;if(E._id===m)k(E,ca,y);else ca[0]._fci=A;da(E,ca)}}Nb(P,j,k);for(A=0;A<D;A++){y=j[A];if(ca=y.element){E=s[m=y.key=Sb(ca[0])];y.vsides=E===va?(s[m]=Qa(ca,true)):E;E=r[m];y.hsides=E===va?(r[m]=vb(ca,true)):E;m=ca.find("div.fc-event-content");if(m.length)y.contentTop=m[0].offsetTop}}for(A=0;A<D;A++){y=j[A];if(ca=y.element){ca[0].style.width=Math.max(0,y.outerWidth-y.hsides)+"px";s=Math.max(0,y.outerHeight-y.vsides);ca[0].style.height=
s+"px";E=y.event;if(y.contentTop!==va&&s-y.contentTop<10){ca.find("div.fc-event-time").text(B(E.start,z("timeFormat"))+" - "+E.title);ca.find("div.fc-event-title").remove()}fa("eventAfterRender",E,E,ca)}}}function i(j,m){var A="<",D=j.url,y=Tb(j,z),E=y?" style='"+y+"'":"",K=["fc-event","fc-event-skin","fc-event-vert"];oa(j)&&K.push("fc-event-draggable");m.isStart&&K.push("fc-corner-top");m.isEnd&&K.push("fc-corner-bottom");K=K.concat(j.className);if(j.source)K=K.concat(j.source.className||[]);A+=
D?"a href='"+Va(j.url)+"'":"div";A+=" class='"+K.join(" ")+"' style='position:absolute;z-index:8;top:"+m.top+"px;left:"+m.left+"px;"+y+"'><div class='fc-event-inner fc-event-skin'"+E+"><div class='fc-event-head fc-event-skin'"+E+"><div class='fc-event-time'>"+Va(l(j.start,j.end,z("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Va(j.title)+"</div></div><div class='fc-event-bg'></div></div>";if(m.isEnd&&ra(j))A+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";
A+="</"+(D?"a":"div")+">";return A}function h(j,m,A){oa(j)&&p(j,m,A.isStart);A.isEnd&&ra(j)&&b(j,m,A);ha(j,m)}function k(j,m,A){var D=m.find("div.fc-event-time");oa(j)&&I(j,m,D);A.isEnd&&ra(j)&&V(j,m,D);ha(j,m)}function p(j,m,A){function D(){if(!K){m.width(y).height("").draggable("option","grid",null);K=true}}var y,E,K=true,$,U=z("isRTL")?-1:1,w=Y(),M=L(),ia=T(),qa=pa();m.draggable({zIndex:9,opacity:z("dragOpacity","month"),revertDuration:z("dragRevertDuration"),start:function(ca,G){fa("eventDragStart",
m,j,ca,G);ba(j,m);y=m.width();w.start(function(e,s,r,P){R();if(e){E=false;$=P*U;if(e.row)if(A){if(K){m.width(M-10);Ob(m,ia*Math.round((j.end?(j.end-j.start)/Ec:z("defaultEventMinutes"))/z("slotMinutes")));m.draggable("option","grid",[M,1]);K=false}}else E=true;else{H(N(q(j.start),$),N(Na(j),$));D()}E=E||K&&!$}else{D();E=true}m.draggable("option","revert",E)},ca,"drag")},stop:function(ca,G){w.stop();R();fa("eventDragStop",m,j,ca,G);if(E){D();m.css("filter","");J(j,m)}else{var e=0;K||(e=Math.round((m.offset().top-
la().offset().top)/ia)*z("slotMinutes")+qa-(j.start.getHours()*60+j.start.getMinutes()));ja(this,j,$,e,K,ca,G)}}})}function I(j,m,A){function D(e){var s=xa(q(j.start),e),r;if(j.end)r=xa(q(j.end),e);A.text(l(s,r,z("timeFormat")))}function y(){if(K){A.css("display","");m.draggable("option","grid",[ca,G]);K=false}}var E,K=false,$,U,w,M=z("isRTL")?-1:1,ia=Y(),qa=F(),ca=L(),G=T();m.draggable({zIndex:9,scroll:false,grid:[ca,G],axis:qa==1?"y":false,opacity:z("dragOpacity"),revertDuration:z("dragRevertDuration"),
start:function(e,s){fa("eventDragStart",m,j,e,s);ba(j,m);E=m.position();U=w=0;ia.start(function(r,P,O,aa){m.draggable("option","revert",!r);R();if(r){$=aa*M;if(z("allDaySlot")&&!r.row){if(!K){K=true;A.hide();m.draggable("option","grid",null)}H(N(q(j.start),$),N(Na(j),$))}else y()}},e,"drag")},drag:function(e,s){U=Math.round((s.position.top-E.top)/G)*z("slotMinutes");if(U!=w){K||D(U);w=U}},stop:function(e,s){var r=ia.stop();R();fa("eventDragStop",m,j,e,s);if(r&&($||U||K))ja(this,j,$,K?0:U,K,e,s);else{y();
m.css("filter","");m.css(E);D(0);J(j,m)}}})}function V(j,m,A){var D,y,E=T();m.resizable({handles:{s:"div.ui-resizable-s"},grid:E,start:function(K,$){D=y=0;ba(j,m);m.css("z-index",9);fa("eventResizeStart",this,j,K,$)},resize:function(K,$){D=Math.round((Math.max(E,m.height())-$.originalSize.height)/E);if(D!=y){A.text(l(j.start,!D&&!j.end?null:xa(wa(j),z("slotMinutes")*D),z("timeFormat")));y=D}},stop:function(K,$){fa("eventResizeStop",this,j,K,$);if(D)o(this,j,0,z("slotMinutes")*D,K,$);else{m.css("z-index",
8);J(j,m)}}})}var v=this;v.renderEvents=a;v.compileDaySegs=f;v.clearEvents=c;v.slotSegHtml=i;v.bindDaySeg=h;Db.call(v);var z=v.opt,fa=v.trigger,oa=v.isEventDraggable,ra=v.isEventResizable,wa=v.eventEnd,sa=v.reportEvents,ka=v.reportEventClear,ha=v.eventElementHandlers,ea=v.setHeight,na=v.getDaySegmentContainer,ta=v.getSlotSegmentContainer,Y=v.getHoverListener,ga=v.getMaxMinute,pa=v.getMinMinute,ua=v.timePosition,X=v.colContentLeft,C=v.colContentRight,u=v.renderDaySegs,b=v.resizableDayEvent,F=v.getColCnt,
L=v.getColWidth,T=v.getSlotHeight,la=v.getBodyContent,da=v.reportEventElement,J=v.showEvents,ba=v.hideEvents,ja=v.eventDrop,o=v.eventResize,H=v.renderDayOverlay,R=v.clearOverlays,Q=v.calendar,B=Q.formatDate,l=Q.formatDates}function Dc(a){var c,f,d,g,n,i;for(c=a.length-1;c>0;c--){g=a[c];for(f=0;f<g.length;f++){n=g[f];for(d=0;d<a[c-1].length;d++){i=a[c-1][d];if(Mb(n,i))i.forward=Math.max(i.forward||0,(n.forward||0)+1)}}}}function xb(a,c,f){function d(X,C){var u=ua[X];if(typeof u=="object")return X==
"resources"?u:qb(u,C||f);return u}function g(X,C){return c.trigger.apply(c,[X,C||ha].concat(Array.prototype.slice.call(arguments,2),[ha]))}function n(X){return h(X)&&!d("disableDragging")}function i(X){return h(X)&&!d("disableResizing")}function h(X){return Za(X.editable,(X.source||{}).editable,d("editable"))}function k(X){Y={};var C,u=X.length,b;for(C=0;C<u;C++){b=X[C];if(Y[b._id])Y[b._id].push(b);else Y[b._id]=[b]}}function p(X){return X.end?q(X.end):ea(X)}function I(X,C){ga.push(C);if(pa[X._id])pa[X._id].push(C);
else pa[X._id]=[C]}function V(){ga=[];pa={}}function v(X,C){C.click(function(u){if(!C.hasClass("ui-draggable-dragging")&&!C.hasClass("ui-resizable-resizing"))return g("eventClick",this,X,u)}).hover(function(u){g("eventMouseover",this,X,u)},function(u){g("eventMouseout",this,X,u)})}function z(X,C){oa(X,C,"show")}function fa(X,C){oa(X,C,"hide")}function oa(X,C,u){X=pa[X._id];var b,F=X.length;for(b=0;b<F;b++)if(!C||X[b][0]!=C[0])X[b][u]()}function ra(X,C,u,b,F,L,T,la){var da=C.allDay,J=C._id,ba=C.resource;
sa(Y[J],u,b,F,la);g("eventDrop",X,C,u,b,F,function(){sa(Y[J],-u,-b,da,ba);ta(J)},L,T,la);ta(J)}function wa(X,C,u,b,F,L){var T=C._id;ka(Y[T],u,b);g("eventResize",X,C,u,b,function(){ka(Y[T],-u,-b);ta(T)},F,L);ta(T)}function sa(X,C,u,b,F){u=u||0;for(var L,T=X.length,la=0;la<T;la++){L=X[la];if(b!==va)L.allDay=b;xa(N(L.start,C,true),u);if(L.end)L.end=xa(N(L.end,C,true),u);if(L.resource!=F&&T==1)L.resource=F;na(L,ua)}}function ka(X,C,u){u=u||0;for(var b,F=X.length,L=0;L<F;L++){b=X[L];b.end=xa(N(p(b),C,
true),u);na(b,ua)}}var ha=this;ha.element=a;ha.calendar=c;ha.name=f;ha.opt=d;ha.trigger=g;ha.isEventDraggable=n;ha.isEventResizable=i;ha.reportEvents=k;ha.eventEnd=p;ha.reportEventElement=I;ha.reportEventClear=V;ha.eventElementHandlers=v;ha.showEvents=z;ha.hideEvents=fa;ha.eventDrop=ra;ha.eventResize=wa;var ea=ha.defaultEventEnd,na=c.normalizeEvent,ta=c.reportEventChange,Y={},ga=[],pa={},ua=c.options}function Db(){function a(o,H){var R=L(),Q=ta(),B=Y(),l=0,j,m,A=o.length,D,y;R[0].innerHTML=f(o);d(o,
R.children());g(o);n(o,R,H);i(o);h(o);k(o);H=p();for(R=0;R<Q;R++){j=[];for(m=0;m<B;m++)j[m]=0;for(;l<A&&(D=o[l]).row==R;){m=Rb(j.slice(D.startCol,D.endCol));D.top=m;m+=D.outerHeight;for(y=D.startCol;y<D.endCol;y++)j[y]=m;l++}H[R].height(Rb(j))}V(o,I(H))}function c(o,H,R){var Q=t("<div/>"),B=L(),l=o.length,j;Q[0].innerHTML=f(o);Q=Q.children();B.append(Q);d(o,Q);i(o);h(o);k(o);V(o,I(p()));Q=[];for(B=0;B<l;B++)if(j=o[B].element){o[B].row===H&&j.css("top",R);Q.push(j[0])}return t(Q)}function f(o){var H=
fa("isRTL"),R,Q=o.length,B,l,j,m;R=pa();var A=R.left,D=R.right,y,E,K,$,U,w="",M=ja(),ia=fa("weekends");for(R=0;R<Q;R++){B=o[R];l=B.event;m=["fc-event","fc-event-skin","fc-event-hori"];ra(l)&&m.push("fc-event-draggable");if(H){B.isStart&&m.push("fc-corner-right");B.isEnd&&m.push("fc-corner-left");y=C(B.end.getDay()-1);E=C(B.start.getDay());K=B.isEnd?ua(y):A;$=B.isStart?X(E):D}else{B.isStart&&m.push("fc-corner-left");B.isEnd&&m.push("fc-corner-right");if(M=="resourceMonth"){y=B.start.getDate()-1;E=
B.end.getDate()-2;if(!ia){for(U=$=K=0;U<=y;U++){j=N(q(z.visStart),U);if(j.getDay()==0||j.getDay()==6)K++}y-=K;if(B.start.getDay()==6||B.start.getDay()==0)y++;for(U=0;U<=E;U++){j=N(q(z.visStart),U);if(j.getDay()==0||j.getDay()==6)$++}E-=$}if(E<0)E=Y()-1}else if(M=="resourceNextWeeks"){y=b(B.start).col;E=b(B.end).col-1;if(!ia){y=b(B.start).col;E=b(N(q(B.end),-1)).col;if(B.start.getDay()==6||B.start.getDay()==0)y++}}else if(M=="resourceDay"){y=u(B.start);E=u(B.end)-1}else{y=C(B.start.getDay());E=C(B.end.getDay()-
1)}K=B.isStart?ua(y):A;$=B.isEnd?X(E):D}m=m.concat(l.className);if(l.source)m=m.concat(l.source.className||[]);j=l.url;U=Tb(l,fa);w+=j?"<a href='"+Va(j)+"'":"<div";w+=" class='"+m.join(" ")+"' style='position:absolute;z-index:8;left:"+K+"px;"+U+"'><div class='fc-event-inner fc-event-skin'"+(U?" style='"+U+"'":"")+">";if(!l.allDay&&B.isStart)w+="<span class='fc-event-time'>"+Va(la(l.start,l.end,fa("timeFormat")))+"</span>";w+="<span class='fc-event-title' "+(U?" style='"+U+"'":"")+">"+Va(l.title)+
"</span></div>";if(B.isEnd&&wa(l))w+="<div class='ui-resizable-handle ui-resizable-"+(H?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";w+="</"+(j?"a":"div")+">";B.left=K;B.outerWidth=$-K;B.startCol=y;B.endCol=E+1}return w}function d(o,H){var R,Q=o.length,B,l,j;for(R=0;R<Q;R++){B=o[R];l=B.event;j=t(H[R]);l=oa("eventRender",l,l,j);if(l===false)j.remove();else{if(l&&l!==true){l=t(l).css({position:"absolute",left:B.left});j.replaceWith(l);j=l}B.element=j}}}function g(o){var H,R=o.length,Q,B;for(H=0;H<R;H++){Q=
o[H];(B=Q.element)&&ka(Q.event,B)}}function n(o,H,R){var Q,B=o.length,l,j,m;for(Q=0;Q<B;Q++){l=o[Q];if(j=l.element){m=l.event;if(m._id===R)T(m,j,l);else j[0]._fci=Q}}Nb(H,o,T)}function i(o){var H,R=o.length,Q,B,l,j,m={};for(H=0;H<R;H++){Q=o[H];if(B=Q.element){l=Q.key=Sb(B[0]);j=m[l];if(j===va)j=m[l]=vb(B,true);Q.hsides=j}}}function h(o){var H,R=o.length,Q,B;for(H=0;H<R;H++){Q=o[H];if(B=Q.element)B[0].style.width=Math.max(0,Q.outerWidth-Q.hsides)+"px"}}function k(o){var H,R=o.length,Q,B,l,j,m={};for(H=
0;H<R;H++){Q=o[H];if(B=Q.element){l=Q.key;j=m[l];if(j===va)j=m[l]=Pb(B);Q.outerHeight=B[0].offsetHeight+j}}}function p(){var o,H=ta(),R=[];for(o=0;o<H;o++)R[o]=ga(o).find("td:not(.fc-resourceName):first div.fc-day-content > div");return R}function I(o){var H,R=o.length,Q=[];for(H=0;H<R;H++)Q[H]=o[H][0].offsetTop;return Q}function V(o,H){var R,Q=o.length,B,l;for(R=0;R<Q;R++){B=o[R];if(l=B.element){var j=parseInt(B.top)>0?parseInt(B.top):0;l[0].style.top=H[B.row]+j+"px";B=B.event;oa("eventAfterRender",
B,B,l)}}}function v(o,H,R){var Q=fa("isRTL"),B=Q?"w":"e",l=H.find("div.ui-resizable-"+B),j=false;$a(H);H.mousedown(function(m){m.preventDefault()}).click(function(m){if(j){m.preventDefault();m.stopImmediatePropagation()}});l.mousedown(function(m){function A(ca){oa("eventResizeStop",this,o,ca);t("body").css("cursor","");D.stop();J();w&&na(this,o,w,0,ca);setTimeout(function(){j=false},0)}if(m.which==1){j=true;var D=z.getHoverListener(),y=ta(),E=Y(),K=Q?-1:1,$=Q?E-1:0,U=H.css("top"),w,M,ia=t.extend({},
o),qa=b(o.start);ba();t("body").css("cursor",B+"-resize").one("mouseup",A);oa("eventResizeStart",this,o,m);D.start(function(ca,G){if(ca){var e=Math.max(qa.row,ca.row);ca=ca.col;if(y==1)e=0;if(e==qa.row)ca=Q?Math.min(qa.col,ca):Math.max(qa.col,ca);w=e*7+ca*K+$-(G.row*7+G.col*K+$);G=N(sa(o),w,true);if(w){ia.end=G;e=M;M=c(F([ia]),R.row,U);M.find("*").css("cursor",B+"-resize");e&&e.remove();ea(o)}else if(M){ha(o);M.remove();M=null}J();da(o.start,N(q(G),1))}},m)}})}var z=this;z.renderDaySegs=a;z.resizableDayEvent=
v;z.renderTempDaySegs=c;var fa=z.opt,oa=z.trigger,ra=z.isEventDraggable,wa=z.isEventResizable,sa=z.eventEnd,ka=z.reportEventElement,ha=z.showEvents,ea=z.hideEvents,na=z.eventResize,ta=z.getRowCnt,Y=z.getColCnt,ga=z.allDayRow,pa=z.allDayBounds,ua=z.colContentLeft,X=z.colContentRight,C=z.dayOfWeekCol,u=z.timeOfDayCol,b=z.dateCell,F=z.compileDaySegs,L=z.getDaySegmentContainer,T=z.bindDaySeg,la=z.calendar.formatDates,da=z.renderDayOverlay,J=z.clearOverlays,ba=z.clearSelection,ja=z.getViewName}function zb(){function a(v,
z,fa){c();z||(z=h(v,fa));k(v,z,fa);f(v,z,fa)}function c(v){if(V){V=false;p();i("unselect",null,v)}}function f(v,z,fa,oa,ra){if(typeof ra=="object"&&ra.readonly===true)return false;V=true;i("select",null,v,z,fa,oa,"",ra)}function d(v){var z=g.cellDate,fa=g.cellIsAllDay,oa=g.getHoverListener(),ra=g.reportDayClick,wa,sa=g.getResources||[],ka,ha=I();if(v.which==1&&n("selectable")){c(v);var ea;oa.start(function(na,ta){p();if(na)ka=typeof sa[na.row]=="object"?sa[na.row].readonly:false;if(na&&fa(na)&&ka!==
true){ea=[z(ta),z(na)].sort(Qb);k(ea[0],ea[1],ha=="resourceDay"?false:true,na.row);wa=na.row}else ea=null},v);t(document).one("mouseup",function(na){oa.stop();if(ea){if(+ea[0]==+ea[1])ra(ea[0],ha=="resourceDay"?false:true,na,sa[wa]);f(ea[0],ha=="resourceDay"?xa(ea[1],n("slotMinutes")):ea[1],ha=="resourceDay"?false:true,na,sa[wa])}})}}var g=this;g.select=a;g.unselect=c;g.reportSelection=f;g.daySelectionMousedown=d;var n=g.opt,i=g.trigger,h=g.defaultSelectionEnd,k=g.renderSelection,p=g.clearSelection,
I=g.getViewName,V=false;n("selectable")&&n("unselectAuto")&&t(document).mousedown(function(v){var z=n("unselectCancel");if(z)if(t(v.target).parents(z).length)return;c(v)})}function yb(){function a(n,i){var h=g.shift();h||(h=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));h[0].parentNode!=i[0]&&h.appendTo(i);d.push(h.css(n).show());return h}function c(){for(var n;n=d.shift();)g.push(n.hide().unbind())}var f=this;f.renderOverlay=a;f.clearOverlays=c;var d=[],g=[]}function Ab(a){var c=
this,f,d;c.build=function(){f=[];d=[];a(f,d)};c.cell=function(g,n){var i=f.length,h=d.length,k,p=-1,I=-1;for(k=0;k<i;k++)if(n>=f[k][0]&&n<f[k][1]){p=k;break}for(k=0;k<h;k++)if(g>=d[k][0]&&g<d[k][1]){I=k;break}return p>=0&&I>=0?{row:p,col:I}:null};c.rect=function(g,n,i,h,k){k=k.offset();return{top:f[g][0]-k.top,left:d[n][0]-k.left,width:d[h][1]-d[n][0],height:f[i][1]-f[g][0]}}}function Bb(a){function c(h){Fc(h);h=a.cell(h.pageX,h.pageY);if(!h!=!i||h&&(h.row!=i.row||h.col!=i.col)){if(h){n||(n=h);g(h,
n,h.row-n.row,h.col-n.col)}else g(h,n);i=h}}var f=this,d,g,n,i;f.start=function(h,k,p){g=h;n=i=null;a.build();c(k);d=p||"mousemove";t(document).bind(d,c)};f.stop=function(){t(document).unbind(d,c);return i}}function Fc(a){if(a.pageX===va){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Cb(a){function c(i){return d[i]=d[i]||a(i)}var f=this,d={},g={},n={};f.left=function(i){return g[i]=g[i]===va?c(i).position().left:g[i]};f.right=function(i){return n[i]=n[i]===va?f.left(i)+c(i).width():
n[i]};f.clear=function(){d={};g={};n={}}}var eb={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",refetchResources:false,titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy",resourceMonth:"MMMM yyyy",resourceWeek:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",resourceNextWeeks:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",
resourceDay:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d",resourceDay:"H:mm",resourceMonth:"M/d",resourceWeek:"ddd M/d",resourceNextWeeks:"ddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day",resourceDay:"resource day",resourceWeek:"resource week",resourceNextWeeks:"resource next weeks",resourceMonth:"resource month"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*",numberOfWeeks:4,
weekPrefix:"Week"},Gc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Da=t.fullCalendar={version:"1.5.3.4"},Fa=Da.views={};t.fn.fullCalendar=function(a){if(typeof a=="string"){var c=Array.prototype.slice.call(arguments,1),f;this.each(function(){var g=t.data(this,"fullCalendar");if(g&&t.isFunction(g[a])){g=
g[a].apply(g,c);if(f===va)f=g;a=="destroy"&&t.removeData(this,"fullCalendar")}});if(f!==va)return f;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=t.extend(true,{},eb,a.isRTL||a.isRTL===va&&eb.isRTL?Gc:{},a);this.each(function(g,n){g=t(n);n=new $b(g,a,d);g.data("fullCalendar",n);n.render()});return this};Da.sourceNormalizers=[];Da.sourceFetchers=[];var dc={dataType:"json",cache:false},ec=1;Da.addDays=N;Da.cloneDate=q;Da.parseDate=rb;Da.parseISO8601=
Lb;Da.parseTime=Sa;Da.formatDate=Ra;Da.formatDates=pb;var tb=864E5,gc=36E5,Ec=6E4,hc={s:function(a){return a.getSeconds()},ss:function(a){return Ua(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Ua(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Ua(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Ua(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Ua(a.getDate())},ddd:function(a,c){return c.dayNamesShort[a.getDay()]},
dddd:function(a,c){return c.dayNames[a.getDay()]},W:function(a){return Kb(a)},M:function(a){return a.getMonth()+1},MM:function(a){return Ua(a.getMonth()+1)},MMM:function(a,c){return c.monthNamesShort[a.getMonth()]},MMMM:function(a,c){return c.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":
"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Ra(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Da.applyAll=fb;Fa.month=pc;Fa.basicWeek=qc;Fa.basicDay=rc;nb({weekMode:"fixed"});Fa.resourceDay=tc;Fa.resourceWeek=uc;Fa.resourceNextWeeks=vc;Fa.resourceMonth=wc;nb({weekMode:"fixed"});Fa.agendaWeek=yc;Fa.agendaDay=zc;nb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,
axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
